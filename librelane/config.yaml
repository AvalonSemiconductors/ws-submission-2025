meta:
  version: 3
  flow: Chip
  substituting_steps:
    OpenROAD.RepairDesignPostGpl: null
    OpenROAD.ResizerTimingPostCTS: null
    +OpenROAD.RepairAntennas: Odb.InsertECODiodes
    KLayout.DRC: null
    Checker.KLayoutDRC: null
    Magic.DRC: null
    Checker.MagicDRC: null

DESIGN_NAME: chip_top
VERILOG_FILES:
- dir::../src/chip_top.sv

ROUTING_OBSTRUCTIONS: [["Metal4", 2450, 3850, 3145, 4427], ["Metal5", 2450, 3850, 3145, 4427],
["Metal1", 2400, 2950, 3440, 3830],
["Metal2", 2400, 2950, 3440, 3830],
["Metal3", 2400, 2950, 3440, 3830],
["Metal4", 2400, 2950, 3440, 3830],
["Metal5", 2400, 2950, 3440, 3830],
["Metal1", 500, 2900, 1475, 3725],
["Metal2", 500, 2900, 1475, 3725],
["Metal3", 500, 2900, 1475, 3725],
["Metal4", 500, 2900, 1475, 3725],
["Metal5", 500, 2900, 1475, 3725]
]

# Enable plugin for better SystemVerilog support
# USE_SLANG: True

# Slightly smaller file sizes
PRIMARY_GDSII_STREAMOUT_TOOL: klayout

# Specify the pad instances for the padring
PAD_NORTH: [
    "bidir\\[12\\].pad", # Bottom-left
    "bidir\\[11\\].pad",
    "bidir\\[10\\].pad",
    "bidir\\[9\\].pad",
    "bidir\\[8\\].pad",
    "design_sel\\[3\\].pad",
    "bidir\\[7\\].pad",
    dvdd_south_0,
    "bidir\\[6\\].pad",
    "bidir\\[5\\].pad",
    clk_pad,
    "bidir\\[4\\].pad",
    "bidir\\[3\\].pad",
    "bidir\\[2\\].pad",
    "bidir\\[1\\].pad",
    "bidir\\[0\\].pad",
    "analog_5" # Bottom-right
]

PAD_WEST: [
    "bidir\\[21\\].pad", # Bottom-right
    dvss_east_2,
    "analog_11",
    "bidir\\[20\\].pad",
    "analog_2",
    "bidir\\[19\\].pad",
    "analog_10",
    "bidir\\[18\\].pad",
    "bidir\\[17\\].pad",
    "design_sel\\[0\\].pad",
    dvss_east_1,
    "bidir\\[16\\].pad",
    "bidir\\[15\\].pad",
    "design_sel\\[2\\].pad",
    "design_sel\\[1\\].pad",
    dvdd_east_1,
    "bidir\\[14\\].pad",
    "bidir\\[13\\].pad",
    dvss_east_0,
    dvdd_east_0 # Top-right
]

PAD_SOUTH: [
    "analog_3", # Top-left
    "design_sel\\[4\\].pad",
    "bidir\\[22\\].pad",
    "bidir\\[23\\].pad",
    "bidir\\[24\\].pad",
    "bidir\\[25\\].pad",
    "analog_4",
    dvdd_north_0,
    "analog_6",
    "bidir\\[26\\].pad",
    dvss_north_0,
    "bidir\\[27\\].pad",
    "bidir\\[28\\].pad",
    "bidir\\[29\\].pad",
    "bidir\\[30\\].pad",
    "bidir\\[31\\].pad",
    "bidir\\[32\\].pad" # Top-right
]

PAD_EAST: [
    "bidir\\[33\\].pad", # Bottom-Left
    "bidir\\[34\\].pad",
    dvss_west_0,
    dvdd_west_0,
    "bidir\\[35\\].pad",
    "bidir\\[36\\].pad",
    "analog_0",
    "analog_9",
    dvss_west_1,
    dvdd_west_1,
    "analog_8",
    "bidir\\[37\\].pad",
    "bidir\\[38\\].pad",
    "bidir\\[39\\].pad",
    "analog_1",
    "bidir\\[40\\].pad",
    dvss_west_2,
    dvdd_west_2,
    "bidir\\[41\\].pad",
    "analog_7" # Top-Left
]

# SDC files
PNR_SDC_FILE: dir::constraint.sdc
SIGNOFF_SDC_FILE: dir::constraint.sdc
FALLBACK_SDC: dir::constraint.sdc

# Power / ground nets
VDD_NETS:
- VDD
GND_NETS:
- VSS

# We need to add gf180mcu_fd_io__bi_24t
# due to the unused Y output for output only pads
IGNORE_DISCONNECTED_MODULES:
- gf180mcu_fd_io__bi_24t
- gf180mcu_fd_io__asig_5p0_fixed
- avali_logo
- aef2
- tholin
- lunar_art_1
- lunar_art_2
- gf180mcu_ws_ip__id
- gf180mcu_ws_ip__logo

# Clock
CLOCK_PORT: clk_PAD
CLOCK_NET: clk_pad/Y
CLOCK_PERIOD: 140 # Top-level timing analysis is irrelevant for setup times as the individual projects each have their own clock period

# Floorplanning
FP_SIZING: absolute
# 3880umx5070um including 26um
# for the sealring on all sides
DIE_AREA: [0, 0, 3932, 5122]
CORE_AREA: [442, 442, 3490, 4680]

RT_MAX_LAYER: Metal5
DRT_ANTENNA_REPAIR_ITERS: 5
DESIGN_REPAIR_TIE_FANOUT: true
DIODE_ON_PORTS: both
GRT_ANTENNA_ITERS: 15
GRT_ANTENNA_MARGIN: 95
DRT_ANTENNA_MARGIN: 95

# PDN - Straps
PDN_VWIDTH: 5
PDN_HWIDTH: 5
PDN_VSPACING: 1
PDN_HSPACING: 1
PDN_VPITCH: 75
PDN_VPITCH: 75
# PDN - Core ring
PDN_CORE_RING: True
PDN_MULTILAYER: True
PDN_ENABLE_RAILS: True
PDN_CFG: dir::pdn_cfg.tcl
# Maximum metal width without slotting: 30um
PDN_CORE_RING_VWIDTH: 25
PDN_CORE_RING_HWIDTH: 25
PDN_CORE_RING_CONNECT_TO_PADS: True
PDN_ENABLE_PINS: True
PDN_CORE_VERTICAL_LAYER: Metal2
PDN_CORE_HORIZONTAL_LAYER: Metal3

# Due to OpenROAD bug
# https://github.com/The-OpenROAD-Project/OpenROAD/issues/8229
#PL_TIME_DRIVEN: False
#PL_ROUTABILITY_DRIVEN: False

# Prevent false positive DRC errors in I/O cells
MAGIC_GDS_FLATGLOB:
# For contacts
- "*_CDNS_*"
# Foundry provided SRAMs
- "*$$*"
- "M1_N*"
- "M1_P*"
- "M2_M1*"
- "M3_M2*"
- "nmos_5p0*"
- "nmos_1p2*"
- "pmos_5p0*"
- "pmos_1p2*"
- "via1_*"
- "ypass_gate*"
- "G_ring_*"
# These additional cells must be flattened to get rid of 3.3V devices
# (DUALGATE drawn into high-level cells)
- "dcap_103*"
- "din_*"
- "mux821_*"
- "rdummy_*"
- "pmoscap_*"
- "xdec_*"
- "ypredec*"
- "xpredec*"
- "prexdec_*"
- "xdec8_*"
- "xdec16_*"
- "xdec32_*"
- "sa_*"
- "*nfet_06v0*"
- "*pfet_06v0*"
- "*ppolyf_u_1k_6p0*"
- "*XM*"
- "*XR*"

# Since we cannot meet the minimum density limit on Metal2,
# move the dummy shapes to the active metal layer and ignore
# DM.5_DM.7 and DM.4_DM.6
KLAYOUT_FILLER_OPTIONS:
  Metal2_ignore_active: true

# Because we have multiple power pads for one power domain
MAGIC_EXT_UNIQUE: notopports

MACROS:
  multiplexer:
    gds:
      - dir::../macros/Multiplexer/runs/latest/final/gds/multiplexer.gds
    lef:
      - dir::../macros/Multiplexer/runs/latest/final/lef/multiplexer.lef
    pnl:
      - dir::../macros/Multiplexer/runs/latest/final/pnl/multiplexer.pnl.v
    nl:
      - dir::../macros/Multiplexer/runs/latest/final/nl/multiplexer.nl.v
    spef:
      min_*: dir::../macros/Multiplexer/runs/latest/final/spef/min/multiplexer.min.spef
      nom_*: dir::../macros/Multiplexer/runs/latest/final/spef/nom/multiplexer.nom.spef
      max_*: dir::../macros/Multiplexer/runs/latest/final/spef/max/multiplexer.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/Multiplexer/runs/latest/final/lib/max_ff_n40C_5v50/multiplexer__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/Multiplexer/runs/latest/final/lib/max_ss_125C_4v50/multiplexer__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/Multiplexer/runs/latest/final/lib/max_tt_025C_5v00/multiplexer__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/Multiplexer/runs/latest/final/lib/min_ff_n40C_5v50/multiplexer__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/Multiplexer/runs/latest/final/lib/min_ss_125C_4v50/multiplexer__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/Multiplexer/runs/latest/final/lib/min_tt_025C_5v00/multiplexer__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/Multiplexer/runs/latest/final/lib/nom_ff_n40C_5v50/multiplexer__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/Multiplexer/runs/latest/final/lib/nom_ss_125C_4v50/multiplexer__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/Multiplexer/runs/latest/final/lib/nom_tt_025C_5v00/multiplexer__nom_tt_025C_5v00.lib
    instances:
      multiplexer:
        location: [1600, 2870]
        orientation: N
  as65x:
    gds:
      - dir::../macros/AS65x/runs/latest/final/gds/as65x.gds
    lef:
      - dir::../macros/AS65x/runs/latest/final/lef/as65x.lef
    pnl:
      - dir::../macros/AS65x/runs/latest/final/pnl/as65x.pnl.v
    nl:
      - dir::../macros/AS65x/runs/latest/final/nl/as65x.nl.v
    spef:
      min_*: dir::../macros/AS65x/runs/latest/final/spef/min/as65x.min.spef
      nom_*: dir::../macros/AS65x/runs/latest/final/spef/nom/as65x.nom.spef
      max_*: dir::../macros/AS65x/runs/latest/final/spef/max/as65x.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/AS65x/runs/latest/final/lib/max_ff_n40C_5v50/as65x__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/AS65x/runs/latest/final/lib/max_ss_125C_4v50/as65x__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/AS65x/runs/latest/final/lib/max_tt_025C_5v00/as65x__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/AS65x/runs/latest/final/lib/min_ff_n40C_5v50/as65x__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/AS65x/runs/latest/final/lib/min_ss_125C_4v50/as65x__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/AS65x/runs/latest/final/lib/min_tt_025C_5v00/as65x__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/AS65x/runs/latest/final/lib/nom_ff_n40C_5v50/as65x__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/AS65x/runs/latest/final/lib/nom_ss_125C_4v50/as65x__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/AS65x/runs/latest/final/lib/nom_tt_025C_5v00/as65x__nom_tt_025C_5v00.lib
    instances:
      as65x:
        location: [2825, 2550]
        orientation: N
  c64pla:
    gds:
      - dir::../macros/C64PLA/runs/latest/final/gds/c64pla.gds
    lef:
      - dir::../macros/C64PLA/runs/latest/final/lef/c64pla.lef
    pnl:
      - dir::../macros/C64PLA/runs/latest/final/pnl/c64pla.pnl.v
    nl:
      - dir::../macros/C64PLA/runs/latest/final/nl/c64pla.nl.v
    spef:
      min_*: dir::../macros/C64PLA/runs/latest/final/spef/min/c64pla.min.spef
      nom_*: dir::../macros/C64PLA/runs/latest/final/spef/nom/c64pla.nom.spef
      max_*: dir::../macros/C64PLA/runs/latest/final/spef/max/c64pla.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/C64PLA/runs/latest/final/lib/max_ff_n40C_5v50/c64pla__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/C64PLA/runs/latest/final/lib/max_ss_125C_4v50/c64pla__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/C64PLA/runs/latest/final/lib/max_tt_025C_5v00/c64pla__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/C64PLA/runs/latest/final/lib/min_ff_n40C_5v50/c64pla__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/C64PLA/runs/latest/final/lib/min_ss_125C_4v50/c64pla__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/C64PLA/runs/latest/final/lib/min_tt_025C_5v00/c64pla__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/C64PLA/runs/latest/final/lib/nom_ff_n40C_5v50/c64pla__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/C64PLA/runs/latest/final/lib/nom_ss_125C_4v50/c64pla__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/C64PLA/runs/latest/final/lib/nom_tt_025C_5v00/c64pla__nom_tt_025C_5v00.lib
    instances:
      c64pla:
        location: [1100, 4250]
        orientation: N
  sid:
    gds:
      - dir::../macros/SID/runs/latest/final/gds/sid.gds
    lef:
      - dir::../macros/SID/runs/latest/final/lef/sid.lef
    pnl:
      - dir::../macros/SID/runs/latest/final/pnl/sid.pnl.v
    nl:
      - dir::../macros/SID/runs/latest/final/nl/sid.nl.v
    spef:
      min_*: dir::../macros/SID/runs/latest/final/spef/min/sid.min.spef
      nom_*: dir::../macros/SID/runs/latest/final/spef/nom/sid.nom.spef
      max_*: dir::../macros/SID/runs/latest/final/spef/max/sid.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/SID/runs/latest/final/lib/max_ff_n40C_5v50/sid__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/SID/runs/latest/final/lib/max_ss_125C_4v50/sid__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/SID/runs/latest/final/lib/max_tt_025C_5v00/sid__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/SID/runs/latest/final/lib/min_ff_n40C_5v50/sid__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/SID/runs/latest/final/lib/min_ss_125C_4v50/sid__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/SID/runs/latest/final/lib/min_tt_025C_5v00/sid__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/SID/runs/latest/final/lib/nom_ff_n40C_5v50/sid__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/SID/runs/latest/final/lib/nom_ss_125C_4v50/sid__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/SID/runs/latest/final/lib/nom_tt_025C_5v00/sid__nom_tt_025C_5v00.lib
    instances:
      sid:
        location: [2825, 1500]
        orientation: N
  repeater:
    gds:
      - dir::../macros/InputRepeater/runs/latest/final/gds/repeater.gds
    lef:
      - dir::../macros/InputRepeater/runs/latest/final/lef/repeater.lef
    pnl:
      - dir::../macros/InputRepeater/runs/latest/final/pnl/repeater.pnl.v
    nl:
      - dir::../macros/InputRepeater/runs/latest/final/nl/repeater.nl.v
    spef:
      min_*: dir::../macros/InputRepeater/runs/latest/final/spef/min/repeater.min.spef
      nom_*: dir::../macros/InputRepeater/runs/latest/final/spef/nom/repeater.nom.spef
      max_*: dir::../macros/InputRepeater/runs/latest/final/spef/max/repeater.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/InputRepeater/runs/latest/final/lib/max_ff_n40C_5v50/repeater__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/InputRepeater/runs/latest/final/lib/max_ss_125C_4v50/repeater__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/InputRepeater/runs/latest/final/lib/max_tt_025C_5v00/repeater__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/InputRepeater/runs/latest/final/lib/min_ff_n40C_5v50/repeater__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/InputRepeater/runs/latest/final/lib/min_ss_125C_4v50/repeater__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/InputRepeater/runs/latest/final/lib/min_tt_025C_5v00/repeater__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/InputRepeater/runs/latest/final/lib/nom_ff_n40C_5v50/repeater__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/InputRepeater/runs/latest/final/lib/nom_ss_125C_4v50/repeater__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/InputRepeater/runs/latest/final/lib/nom_tt_025C_5v00/repeater__nom_tt_025C_5v00.lib
    instances:
      repeater:
        location: [700, 2600]
        orientation: N
  gpiochip:
    gds:
      - dir::../macros/GPIO/runs/latest/final/gds/gpiochip.gds
    lef:
      - dir::../macros/GPIO/runs/latest/final/lef/gpiochip.lef
    pnl:
      - dir::../macros/GPIO/runs/latest/final/pnl/gpiochip.pnl.v
    nl:
      - dir::../macros/GPIO/runs/latest/final/nl/gpiochip.nl.v
    spef:
      min_*: dir::../macros/GPIO/runs/latest/final/spef/min/gpiochip.min.spef
      nom_*: dir::../macros/GPIO/runs/latest/final/spef/nom/gpiochip.nom.spef
      max_*: dir::../macros/GPIO/runs/latest/final/spef/max/gpiochip.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/GPIO/runs/latest/final/lib/max_ff_n40C_5v50/gpiochip__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/GPIO/runs/latest/final/lib/max_ss_125C_4v50/gpiochip__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/GPIO/runs/latest/final/lib/max_tt_025C_5v00/gpiochip__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/GPIO/runs/latest/final/lib/min_ff_n40C_5v50/gpiochip__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/GPIO/runs/latest/final/lib/min_ss_125C_4v50/gpiochip__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/GPIO/runs/latest/final/lib/min_tt_025C_5v00/gpiochip__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/GPIO/runs/latest/final/lib/nom_ff_n40C_5v50/gpiochip__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/GPIO/runs/latest/final/lib/nom_ss_125C_4v50/gpiochip__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/GPIO/runs/latest/final/lib/nom_tt_025C_5v00/gpiochip__nom_tt_025C_5v00.lib
    instances:
      gpiochip:
        location: [550, 2003]
        orientation: N
  dram_controller:
    gds:
      - dir::../macros/DRAMController/runs/latest/final/gds/dram_controller.gds
    lef:
      - dir::../macros/DRAMController/runs/latest/final/lef/dram_controller.lef
    pnl:
      - dir::../macros/DRAMController/runs/latest/final/pnl/dram_controller.pnl.v
    nl:
      - dir::../macros/DRAMController/runs/latest/final/nl/dram_controller.nl.v
    spef:
      min_*: dir::../macros/DRAMController/runs/latest/final/spef/min/dram_controller.min.spef
      nom_*: dir::../macros/DRAMController/runs/latest/final/spef/nom/dram_controller.nom.spef
      max_*: dir::../macros/DRAMController/runs/latest/final/spef/max/dram_controller.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/DRAMController/runs/latest/final/lib/max_ff_n40C_5v50/dram_controller__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/DRAMController/runs/latest/final/lib/max_ss_125C_4v50/dram_controller__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/DRAMController/runs/latest/final/lib/max_tt_025C_5v00/dram_controller__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/DRAMController/runs/latest/final/lib/min_ff_n40C_5v50/dram_controller__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/DRAMController/runs/latest/final/lib/min_ss_125C_4v50/dram_controller__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/DRAMController/runs/latest/final/lib/min_tt_025C_5v00/dram_controller__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/DRAMController/runs/latest/final/lib/nom_ff_n40C_5v50/dram_controller__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/DRAMController/runs/latest/final/lib/nom_ss_125C_4v50/dram_controller__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/DRAMController/runs/latest/final/lib/nom_tt_025C_5v00/dram_controller__nom_tt_025C_5v00.lib
    instances:
      dram_controller:
        location: [700, 4300]
        orientation: N
  ntsc:
    gds:
      - dir::../macros/NTSCTest/runs/latest/final/gds/ntsc.gds
    lef:
      - dir::../macros/NTSCTest/runs/latest/final/lef/ntsc.lef
    pnl:
      - dir::../macros/NTSCTest/runs/latest/final/pnl/ntsc.pnl.v
    nl:
      - dir::../macros/NTSCTest/runs/latest/final/nl/ntsc.nl.v
    spef:
      min_*: dir::../macros/NTSCTest/runs/latest/final/spef/min/ntsc.min.spef
      nom_*: dir::../macros/NTSCTest/runs/latest/final/spef/nom/ntsc.nom.spef
      max_*: dir::../macros/NTSCTest/runs/latest/final/spef/max/ntsc.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/NTSCTest/runs/latest/final/lib/max_ff_n40C_5v50/ntsc__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/NTSCTest/runs/latest/final/lib/max_ss_125C_4v50/ntsc__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/NTSCTest/runs/latest/final/lib/max_tt_025C_5v00/ntsc__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/NTSCTest/runs/latest/final/lib/min_ff_n40C_5v50/ntsc__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/NTSCTest/runs/latest/final/lib/min_ss_125C_4v50/ntsc__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/NTSCTest/runs/latest/final/lib/min_tt_025C_5v00/ntsc__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/NTSCTest/runs/latest/final/lib/nom_ff_n40C_5v50/ntsc__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/NTSCTest/runs/latest/final/lib/nom_ss_125C_4v50/ntsc__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/NTSCTest/runs/latest/final/lib/nom_tt_025C_5v00/ntsc__nom_tt_025C_5v00.lib
    instances:
      ntsc:
        location: [600, 500]
        orientation: N
  misc:
    gds:
      - dir::../macros/MiscStuff/runs/latest/final/gds/misc.gds
    lef:
      - dir::../macros/MiscStuff/runs/latest/final/lef/misc.lef
    pnl:
      - dir::../macros/MiscStuff/runs/latest/final/pnl/misc.pnl.v
    nl:
      - dir::../macros/MiscStuff/runs/latest/final/nl/misc.nl.v
    spef:
      min_*: dir::../macros/MiscStuff/runs/latest/final/spef/min/misc.min.spef
      nom_*: dir::../macros/MiscStuff/runs/latest/final/spef/nom/misc.nom.spef
      max_*: dir::../macros/MiscStuff/runs/latest/final/spef/max/misc.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/MiscStuff/runs/latest/final/lib/max_ff_n40C_5v50/misc__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/MiscStuff/runs/latest/final/lib/max_ss_125C_4v50/misc__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/MiscStuff/runs/latest/final/lib/max_tt_025C_5v00/misc__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/MiscStuff/runs/latest/final/lib/min_ff_n40C_5v50/misc__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/MiscStuff/runs/latest/final/lib/min_ss_125C_4v50/misc__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/MiscStuff/runs/latest/final/lib/min_tt_025C_5v00/misc__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/MiscStuff/runs/latest/final/lib/nom_ff_n40C_5v50/misc__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/MiscStuff/runs/latest/final/lib/nom_ss_125C_4v50/misc__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/MiscStuff/runs/latest/final/lib/nom_tt_025C_5v00/misc__nom_tt_025C_5v00.lib
    instances:
      misc:
        location: [1100, 1630]
        orientation: N
  as65rv32:
    gds:
      - dir::../macros/65RV32/runs/latest/final/gds/as65rv32.gds
    lef:
      - dir::../macros/65RV32/runs/latest/final/lef/as65rv32.lef
    pnl:
      - dir::../macros/65RV32/runs/latest/final/pnl/as65rv32.pnl.v
    nl:
      - dir::../macros/65RV32/runs/latest/final/nl/as65rv32.nl.v
    spef:
      min_*: dir::../macros/65RV32/runs/latest/final/spef/min/as65rv32.min.spef
      nom_*: dir::../macros/65RV32/runs/latest/final/spef/nom/as65rv32.nom.spef
      max_*: dir::../macros/65RV32/runs/latest/final/spef/max/as65rv32.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/65RV32/runs/latest/final/lib/max_ff_n40C_5v50/as65rv32__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/65RV32/runs/latest/final/lib/max_ss_125C_4v50/as65rv32__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/65RV32/runs/latest/final/lib/max_tt_025C_5v00/as65rv32__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/65RV32/runs/latest/final/lib/min_ff_n40C_5v50/as65rv32__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/65RV32/runs/latest/final/lib/min_ss_125C_4v50/as65rv32__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/65RV32/runs/latest/final/lib/min_tt_025C_5v00/as65rv32__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/65RV32/runs/latest/final/lib/nom_ff_n40C_5v50/as65rv32__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/65RV32/runs/latest/final/lib/nom_ss_125C_4v50/as65rv32__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/65RV32/runs/latest/final/lib/nom_tt_025C_5v00/as65rv32__nom_tt_025C_5v00.lib
    instances:
      as65rv32:
        location: [1725, 1620]
        orientation: N
  fm:
    gds:
      - dir::../macros/FMSynth/runs/latest/final/gds/fm.gds
    lef:
      - dir::../macros/FMSynth/runs/latest/final/lef/fm.lef
    pnl:
      - dir::../macros/FMSynth/runs/latest/final/pnl/fm.pnl.v
    nl:
      - dir::../macros/FMSynth/runs/latest/final/nl/fm.nl.v
    spef:
      min_*: dir::../macros/FMSynth/runs/latest/final/spef/min/fm.min.spef
      nom_*: dir::../macros/FMSynth/runs/latest/final/spef/nom/fm.nom.spef
      max_*: dir::../macros/FMSynth/runs/latest/final/spef/max/fm.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/FMSynth/runs/latest/final/lib/max_ff_n40C_5v50/fm__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/FMSynth/runs/latest/final/lib/max_ss_125C_4v50/fm__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/FMSynth/runs/latest/final/lib/max_tt_025C_5v00/fm__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/FMSynth/runs/latest/final/lib/min_ff_n40C_5v50/fm__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/FMSynth/runs/latest/final/lib/min_ss_125C_4v50/fm__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/FMSynth/runs/latest/final/lib/min_tt_025C_5v00/fm__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/FMSynth/runs/latest/final/lib/nom_ff_n40C_5v50/fm__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/FMSynth/runs/latest/final/lib/nom_ss_125C_4v50/fm__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/FMSynth/runs/latest/final/lib/nom_tt_025C_5v00/fm__nom_tt_025C_5v00.lib
    instances:
      fm:
        location: [1400, 3800]
        orientation: N
  secret_message:
    gds:
      - dir::../macros/SecretMessage/runs/latest/final/gds/secret_message.gds
    lef:
      - dir::../macros/SecretMessage/runs/latest/final/lef/secret_message.lef
    pnl:
      - dir::../macros/SecretMessage/runs/latest/final/pnl/secret_message.pnl.v
    nl:
      - dir::../macros/SecretMessage/runs/latest/final/nl/secret_message.nl.v
    spef:
      min_*: dir::../macros/SecretMessage/runs/latest/final/spef/min/secret_message.min.spef
      nom_*: dir::../macros/SecretMessage/runs/latest/final/spef/nom/secret_message.nom.spef
      max_*: dir::../macros/SecretMessage/runs/latest/final/spef/max/secret_message.max.spef
    lib:
      max_ff_n40C_5v50: dir::../macros/SecretMessage/runs/latest/final/lib/max_ff_n40C_5v50/secret_message__max_ff_n40C_5v50.lib
      max_ss_125C_4v50: dir::../macros/SecretMessage/runs/latest/final/lib/max_ss_125C_4v50/secret_message__max_ss_125C_4v50.lib
      max_tt_025C_5v00: dir::../macros/SecretMessage/runs/latest/final/lib/max_tt_025C_5v00/secret_message__max_tt_025C_5v00.lib
      min_ff_n40C_5v50: dir::../macros/SecretMessage/runs/latest/final/lib/min_ff_n40C_5v50/secret_message__min_ff_n40C_5v50.lib
      min_ss_125C_4v50: dir::../macros/SecretMessage/runs/latest/final/lib/min_ss_125C_4v50/secret_message__min_ss_125C_4v50.lib
      min_tt_025C_5v00: dir::../macros/SecretMessage/runs/latest/final/lib/min_tt_025C_5v00/secret_message__min_tt_025C_5v00.lib
      nom_ff_n40C_5v50: dir::../macros/SecretMessage/runs/latest/final/lib/nom_ff_n40C_5v50/secret_message__nom_ff_n40C_5v50.lib
      nom_ss_125C_4v50: dir::../macros/SecretMessage/runs/latest/final/lib/nom_ss_125C_4v50/secret_message__nom_ss_125C_4v50.lib
      nom_tt_025C_5v00: dir::../macros/SecretMessage/runs/latest/final/lib/nom_tt_025C_5v00/secret_message__nom_tt_025C_5v00.lib
    instances:
      secret_message:
        location: [700, 1623]
        orientation: N
  r2r_dac_buffered:
    gds:
      - dir::../macros/Analog/R2R_DAC/gds/r2r_dac_buffered.gds
    lef:
      - dir::../macros/Analog/R2R_DAC/lef/r2r_dac_buffered.lef
    vh:
      - dir::../macros/Analog/R2R_DAC/verilog/r2r_dac_buffered.v
    lib:
      "*":
        - dir::../macros/Analog/R2R_DAC/lib/r2r_dac_buffered.lib
    instances:
      dac0:
        location: [2550, 1200]
        orientation: N
      dac1:
        location: [2925, 1200]
        orientation: N
      dac2:
        location: [2550, 1050]
        orientation: N
      dac3:
        location: [2925, 1050]
        orientation: N
      dac4:
        location: [2550, 900]
        orientation: N
      dac5:
        location: [2925, 900]
        orientation: N
      dac6:
        location: [2550, 750]
        orientation: N
      dac7:
        location: [2925, 750]
        orientation: N
      dac8:
        location: [2550, 600]
        orientation: N
      dac9:
        location: [2925, 600]
        orientation: N
      dac10:
        location: [2550, 1350]
        orientation: N
  gf180mcu_fd_io__asig_5p0_fixed:
    gds:
      - dir::../macros/Analog/AnalogPad/gds/gf180mcu_fd_io__asig_5p0_fixed.gds
    lef:
      - dir::../macros/Analog/AnalogPad/lef/gf180mcu_fd_io__asig_5p0_fixed.lef
    pnl:
      - dir::../macros/Analog/AnalogPad/verilog/gf180mcu_fd_io.v
    nl:
      - dir::../macros/Analog/AnalogPad/verilog/gf180mcu_fd_io.v
    lib:
      "*": dir::../macros/Analog/AnalogPad/lib/analog_pad.lib
  gf180mcu_ws_ip__id:
    gds:
      - dir::../ip/gf180mcu_ws_ip__id/gds/gf180mcu_ws_ip__id.gds
    lef:
      - dir::../ip/gf180mcu_ws_ip__id/lef/gf180mcu_ws_ip__id.lef
    vh:
      - dir::../ip/gf180mcu_ws_ip__id/vh/gf180mcu_ws_ip__id.v
    lib:
      "*":
        - dir::../ip/gf180mcu_ws_ip__id/lib/gf180mcu_ws_ip__id.lib
    instances:
      chip_id:
        location: [26, 26]
        orientation: N
  gf180mcu_ws_ip__logo:
    gds:
      - dir::../ip/gf180mcu_ws_ip__logo/gds/gf180mcu_ws_ip__logo.gds
    lef:
      - dir::../ip/gf180mcu_ws_ip__logo/lef/gf180mcu_ws_ip__logo.lef
    vh:
      - dir::../ip/gf180mcu_ws_ip__logo/vh/gf180mcu_ws_ip__logo.v
    lib:
      "*":
        - dir::../ip/gf180mcu_ws_ip__logo/lib/gf180mcu_ws_ip__logo.lib
    instances:
      wafer_space_logo:
        location: [3762.75, 4952.75]
        orientation: N
  avali_logo:
    gds:
      - dir::../silicon_art/avali_logo.gds
    lef:
      - dir::../silicon_art/avali_logo.lef
    vh:
      - dir::../silicon_art/avali_logo.v
    lib:
      "*":
        - dir::../silicon_art/avali_logo.lib
    instances:
      avali_logo:
        location: [650, 3900]
        orientation: N
  aef2:
    gds:
      - dir::../silicon_art/aef2.gds
    lef:
      - dir::../silicon_art/aef2.lef
    vh:
      - dir::../silicon_art/aef2.v
    lib:
      "*":
        - dir::../silicon_art/aef2.lib
    instances:
      aef2:
        location: [1000, 3900]
        orientation: N
  tholin:
    gds:
      - dir::../silicon_art/tholin.gds
    lef:
      - dir::../silicon_art/tholin.lef
    vh:
      - dir::../silicon_art/tholin.v
    lib:
      "*":
        - dir::../silicon_art/tholin.lib
    instances:
      tholin:
        location: [2450, 3890]
        orientation: N
  lunar_art_1:
    gds:
      - dir::../silicon_art/lunar_art_1.gds
    lef:
      - dir::../silicon_art/lunar_art_1.lef
    vh:
      - dir::../silicon_art/lunar_art_1.v
    lib:
      "*":
        - dir::../silicon_art/lunar_art_1.lib
    instances:
      lunar_art_1:
        location: [2400, 2950]
        orientation: N
  lunar_art_2:
    gds:
      - dir::../silicon_art/lunar_art_2.gds
    lef:
      - dir::../silicon_art/lunar_art_2.lef
    vh:
      - dir::../silicon_art/lunar_art_2.v
    lib:
      "*":
        - dir::../silicon_art/lunar_art_2.lib
    instances:
      lunar_art_2:
        location: [500, 2900]
        orientation: N

FP_MACRO_HORIZONTAL_HALO: 20
FP_MACRO_VERTICAL_HALO: 20
FP_MACRO_HORIZONTAL_HALO: 5
FP_MACRO_VERTICAL_HALO: 5

GRT_ALLOW_CONGESTION: true

# Make sure netgen doesn't create 'no_connect' nets
# Not needed since netgen 1.5.303
LVS_FLATTEN_CELLS:
- gf180mcu_ws_ip__id
- gf180mcu_ws_ip__logo
- avali_logo
- aef2
- tholin
- lunar_art_1
- lunar_art_2

# gf180mcu_ws_ip__id has no ports and components
# therefore make it an abstract cell in the layout
MAGIC_EXT_ABSTRACT_CELLS:
- gf180mcu_ws_ip__id
- gf180mcu_ws_ip__logo
- avali_logo
- aef2
- tholin
- lunar_art_1
- lunar_art_2

INSERT_ECO_DIODES:
- target: secret_message/rst_override_n
- target: sid/io_in_buffered[12]
- target: misc/io_in_buffered[11]
- target: as65x/io_in[14]
- target: as65rv32/io_in[2]
- target: as65x/io_in[2]
- target: gpiochip/io_in[2]
- target: repeater/io_in[2]
- target: sid/gpiochip_sample_2[0]
- target: sid/gpiochip_sample_2[1]
- target: sid/gpiochip_sample_2[2]
- target: sid/gpiochip_sample_2[3]
- target: sid/gpiochip_sample_3[0]
- target: sid/gpiochip_sample_3[1]
- target: sid/gpiochip_sample_3[2]
- target: sid/gpiochip_sample_3[3]
- target: sid/gpiochip_sample_3[4]
- target: sid/gpiochip_sample_3[5]
- target: sid/gpiochip_sample_3[6]
- target: repeater/io_in[1]
- target: as65rv32/io_in[1]
- target: as65x/io_in[1]
- target: gpiochip/io_in[1]
- target: ntsc/rst_override_n
- target: dac0/D0
- target: dac1/D0
- target: dac2/D0
- target: dac3/D0
- target: dac4/D0
- target: dac5/D0
- target: dac6/D0
- target: dac7/D0
- target: dac8/D0
- target: dac9/D0
- target: dac10/D0
- target: dac0/D1
- target: dac1/D1
- target: dac2/D1
- target: dac3/D1
- target: dac4/D1
- target: dac5/D1
- target: dac6/D1
- target: dac7/D1
- target: dac8/D1
- target: dac9/D1
- target: dac10/D1
- target: dac0/D2
- target: dac1/D2
- target: dac2/D2
- target: dac3/D2
- target: dac4/D2
- target: dac5/D2
- target: dac6/D2
- target: dac7/D2
- target: dac8/D2
- target: dac9/D2
- target: dac10/D2
- target: dac0/D3
- target: dac1/D3
- target: dac2/D3
- target: dac3/D3
- target: dac4/D3
- target: dac5/D3
- target: dac6/D3
- target: dac7/D3
- target: dac8/D3
- target: dac9/D3
- target: dac10/D3
- target: repeater/io_in[13]
- target: as65rv32/io_in[13]
- target: as65x/io_in[13]
- target: gpiochip/io_in[13]
